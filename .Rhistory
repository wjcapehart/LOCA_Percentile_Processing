load("/Users/wjc/GitHub/LOCA_Percentile_Processing/Climate_Zones_Name_LUT.Rdata")
load("/Users/wjc/GitHub/LOCA_Percentile_Processing/Climate_Zones_Name_LUT.Rdata")
load("/Users/wjc/GitHub/FEW_CROP_MIGRAGTION/NGP_CLIMATE_ZONES.Rdata")
library(readr)
Avail_NGP_nClimDiv_LUT <- read_csv("Avail_nClimDiv_LUT.csv")
View(Avail_NGP_nClimDiv_LUT)
View(climate_regions)
Avail_NGP_Map_Data_Frame = climate_regions
remove(climate_regions)
Avail_NGP_Map_Data_Frame$Full_Zone_Codes = as.numeric(as.character(Avail_NGP_Map_Data_Frame$US_CAN_Zones))
Avail_NGP_nClimDiv_LUT$US_CAN_Zones = NA
Avail_NGP_nClimDiv_LUT$US_CAN_Zones = sprintf("%5.4",Avail_NGP_nClimDiv_LUT$Full_Zone_Code)
Avail_NGP_nClimDiv_LUT$US_CAN_Zones = sprintf("%5.4d",Avail_NGP_nClimDiv_LUT$Full_Zone_Code)
print(Avail_NGP_nClimDiv_LUT$US_CAN_Zones )
load("/Users/wjc/GitHub/FEW_CROP_MIGRAGTION/Climate_Zones_Name_LUT.Rdata")
save(Climate_Zones_Name_LUT, Avail_NGP_nClimDiv_LUT, Avail_NGP_Map_Data_Frame, file="~/Desktop/Climate_Zones_Name_LUT.Rdata")
start_years    = c(1951, 1961, 1976, 2011, 2036, 2061, 2070, 1956, 2006, 2026, 2050)
period_length  = c(  30,  30,    30,   30,   30,   30,   30,   50,   50,   50,  50)
end_years      = start_years + period_length -1
center_years = 0.5 * (end_years + start_years) - 0.5
center_years = 0.5 * (end_years + start_years) - 0.5
center_years
Periods = tibble(start_years   = start_years,
center_years  = center_years,
end_years     = end_years,
period_length = period_length)
library(package = "tidyverse") # Multiple Tidyverse Resources
library(package = "lubridate") # Date-Time Control
# NCAR Libraries
library(package = "extRemes") # NCEI  Data Retrieval Package
# Pulling Hucs for Zone Lookup Tables
HUC_LUT_URL = "http://kyrill.ias.sdsmt.edu/wjc/eduresources/HUC08_Missouri_River_Basin.Rdata"
load(file = url(HUC_LUT_URL), verbose=TRUE)
remove(HUC_LUT_URL)
HUC08_MRB_LUT
HUC_AVAIL_URL = "http://kyrill.ias.sdsmt.edu:8080/thredds/fileServer/LOCA_NGP/huc_08_basins/Completed_HUCS.RData"
load(file = url(HUC_AVAIL_URL), verbose=TRUE)
remove(HUC_AVAIL_URL)
# Select Periods
start_years    = c(1951, 1961, 1976, 2011, 2036, 2061, 2070, 1956, 2006, 2026, 2050)
period_length  = c(  30,  30,    30,   30,   30,   30,   30,   50,   50,   50,  50)
end_years      = start_years + period_length -1
center_years = 0.5 * (end_years + start_years) - 0.5
center_years
Periods = tibble(start_years   = start_years,
center_years  = center_years,
end_years     = end_years,
period_length = period_length)
View(Periods)
View(Periods)
Completed_HUCS
loca_location_data = HUC08_MRB_LUT %>%
filter(HUC08_Code_ID == huc_zone_lut)
huc_zone_lut = Completed_HUCS[1]
loca_location_data = HUC08_MRB_LUT %>%
filter(HUC08_Code_ID == huc_zone_lut)
root_LOCA_URL = "http://kyrill.ias.sdsmt.edu:8080/thredds/fileServer/LOCA_NGP/huc_08_regions/"
# root_LOCA_URL = "/maelstrom2/LOCA_GRIDDED_ENSEMBLES/LOCA_NGP/huc_08_basins/"
loca_filename = str_c("NGP_LOCA_HUC08_",
huc_zone_lut,
".RData",
sep = "")
# LOCA Data Extraction from SD Mines Thredds Server
# URL Information
loca_location_data = HUC08_MRB_LUT %>%
filter(HUC08_Code_ID == huc_zone_lut)
root_LOCA_URL = "http://kyrill.ias.sdsmt.edu:8080/thredds/fileServer/LOCA_NGP/huc_08_regions/"
# root_LOCA_URL = "/maelstrom2/LOCA_GRIDDED_ENSEMBLES/LOCA_NGP/huc_08_basins/"
loca_filename = str_c("NGP_LOCA_HUC08_",
huc_zone_lut,
".RData",
sep = "")
LOCA_URL = str_c(root_LOCA_URL,
loca_filename,
sep = "")
load(file    =(LOCA_URL),
verbose = TRUE)
remove(LOCA_URL)
Ensembles = unique(loca_daily$Ensemble)
Scenarios = unique(loca_daily$Scenario)
n(end_years)
total(index)
number_of_periods = length(start_years)
number_of_periods
seq(1, number_of_periods)
i = 1
start_year = Periods$start_years[i]
end_year = Periods$end_years[i]
loca_period = loca_daily %>%
filter((year(Time) >= start_year) &
(year(Time) <= end_year)   &
(Percentile == "P100")    ) %>%
select(-c(tasmax,tasmin))%>%
mutate(Scenario = str_c(Scenario,
" (",
start_year,
"-",
end_year,
")",
sep = ""))
# LOCA Data Extraction from SD Mines Thredds Server
# URL Information
loca_location_data = HUC08_MRB_LUT %>%
filter(HUC08_Code_ID == huc_zone_lut)
root_LOCA_URL = "http://kyrill.ias.sdsmt.edu:8080/thredds/fileServer/LOCA_NGP/huc_08_regions/"
# root_LOCA_URL = "/maelstrom2/LOCA_GRIDDED_ENSEMBLES/LOCA_NGP/huc_08_basins/"
loca_filename = str_c("NGP_LOCA_HUC08_",
huc_zone_lut,
".RData",
sep = "")
LOCA_URL = str_c(root_LOCA_URL,
loca_filename,
sep = "")
load(file    =(LOCA_URL),
verbose = TRUE)
remove(LOCA_URL)
Ensembles = unique(loca_daily$Ensemble)
Scenarios = unique(loca_daily$Scenario)
huc_zone_lut = Completed_HUCS[1]
LOCA Data Extraction from SD Mines Thredds Server
# URL Information
loca_location_data = HUC08_MRB_LUT %>%
filter(HUC08_Code_ID == huc_zone_lut)
root_LOCA_URL = "http://kyrill.ias.sdsmt.edu:8080/thredds/fileServer/LOCA_NGP/huc_08_regions/"
# root_LOCA_URL = "/maelstrom2/LOCA_GRIDDED_ENSEMBLES/LOCA_NGP/huc_08_basins/"
loca_filename = str_c("NGP_LOCA_HUC08_",
huc_zone_lut,
".RData",
sep = "")
LOCA_URL = str_c(root_LOCA_URL,
loca_filename,
sep = "")
load(file    =(LOCA_URL),
verbose = TRUE)
